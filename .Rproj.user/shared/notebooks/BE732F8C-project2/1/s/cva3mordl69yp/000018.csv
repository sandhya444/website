"0",""
"0","#k-fold CV "
"0","set.seed(1234)"
"0","k=10 "
"0","data1<-states1[sample(nrow(states1)),] "
"0","folds<-cut(seq(1:nrow(states1)),breaks=k,labels=F) "
"0","diags<-NULL"
"0","for(i in 1:k){"
"0","train<-data1[folds!=i,]"
"0","test<-data1[folds==i,]"
"0","truth<-test$y"
"0","fit1<-glm(y ~ gdp + women,data=train,family=""binomial"")"
"0","probs<-predict(fit1,newdata = test,type=""response"")"
"0","diags<-rbind(diags,class_diag(probs,truth))"
"0","}"
"0",""
"0","#out-of-sample performance"
"0","summarize_all(diags,mean) "
